<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elingo Ch.2 â€” í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Noto+Serif+KR:wght@300;400&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--cream:#FAF6F0;--warm:#FDF9F4;--sage:#8A9E8C;--sage-l:#C5D4C6;--rose:#C4998A;--rose-l:#E8D0C8;--gold:#C9A96E;--gold-l:#EDD9B0;--dark:#2C2C2C;--gray:#6B6B6B;--line:#E8E4DF;--ok:#7BAE7F;--err:#D4756B;}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;}
body{background:var(--cream);font-family:'DM Sans',sans-serif;color:var(--dark);max-width:480px;margin:0 auto;min-height:100%;display:flex;flex-direction:column;}

.topbar{background:var(--warm);border-bottom:1px solid var(--line);padding:1rem 1.2rem;display:flex;align-items:center;gap:1rem;position:sticky;top:0;z-index:50;}
.back-btn{background:none;border:none;font-size:1.3rem;cursor:pointer;}
.tb-info{flex:1;}
.tb-track{font-size:.65rem;color:var(--rose);text-transform:uppercase;letter-spacing:.1em;}
.tb-title{font-family:'Cormorant Garamond',serif;font-size:1rem;font-weight:600;}
.xp-pill{background:var(--gold-l);border:1px solid var(--gold);border-radius:100px;padding:.3rem .8rem;font-size:.72rem;font-weight:600;color:#8a6a30;}

.prog-wrap{background:var(--line);height:5px;}
.prog-bar{height:5px;background:linear-gradient(90deg,var(--rose),var(--gold));transition:width .4s;}

.dots{display:flex;justify-content:center;gap:.5rem;padding:.8rem 0;}
.dot{width:8px;height:8px;border-radius:50%;background:var(--line);transition:all .3s;}
.dot.done{background:var(--sage);}
.dot.active{background:var(--rose);width:20px;border-radius:4px;}

.screen{display:none;flex:1;flex-direction:column;padding:1.2rem;overflow-y:auto;}
.screen.on{display:flex;}

/* INTRO */
.i-card{background:linear-gradient(145deg,#2C2C2C,#3D4E60);border-radius:22px;padding:2.2rem 2rem;text-align:center;color:var(--cream);margin-bottom:1.4rem;}
.i-icon{font-size:2.8rem;display:block;margin-bottom:.8rem;}
.i-tag{font-size:.68rem;letter-spacing:.15em;color:var(--gold-l);margin-bottom:.4rem;}
.i-title{font-family:'Cormorant Garamond',serif;font-size:1.8rem;font-weight:600;margin-bottom:.4rem;}
.i-verse{font-style:italic;color:var(--gold-l);font-size:.95rem;margin-bottom:1rem;}
.i-desc{font-size:.8rem;color:rgba(250,246,240,.7);line-height:1.7;}
.step-list{display:flex;flex-direction:column;gap:.6rem;margin-bottom:1.5rem;}
.step-row{display:flex;align-items:center;gap:.8rem;background:var(--warm);border:1.5px solid var(--line);border-radius:12px;padding:.85rem 1rem;}
.step-n{width:26px;height:26px;border-radius:50%;background:var(--rose-l);color:var(--rose);display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:600;flex-shrink:0;}
.step-lbl{font-size:.83rem;font-weight:500;}
.step-sub{font-size:.68rem;color:var(--gray);}

/* FLASHCARD */
.fc-nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:.6rem;}
.fc-nav-btn{background:none;border:1.5px solid var(--line);border-radius:100px;padding:.3rem .85rem;font-size:.7rem;color:var(--gray);cursor:pointer;font-family:'DM Sans',sans-serif;}
.fc-nav-btn:disabled{opacity:.3;cursor:not-allowed;}
.fc-counter{font-size:.75rem;color:var(--gray);}
.fc-card{width:100%;aspect-ratio:3/2;perspective:1000px;cursor:pointer;margin-bottom:1.2rem;}
.fc-inner{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .5s;border-radius:18px;}
.fc-card.flipped .fc-inner{transform:rotateY(180deg);}
.fc-front,.fc-back{position:absolute;inset:0;border-radius:18px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.8rem;backface-visibility:hidden;text-align:center;}
.fc-front{background:linear-gradient(145deg,var(--warm),var(--gold-l));border:2px solid var(--gold-l);}
.fc-back{background:linear-gradient(145deg,#2C2C2C,#3D4E60);transform:rotateY(180deg);color:var(--cream);}
.fc-hint{font-size:.68rem;color:var(--gray);margin-bottom:.7rem;}
.fc-word{font-family:'Cormorant Garamond',serif;font-size:2.2rem;font-weight:600;margin-bottom:.4rem;}
.fc-ph{font-size:.76rem;color:var(--gray);}
.fc-mean{font-size:1rem;color:var(--gold-l);font-family:'Noto Serif KR',serif;font-weight:300;margin-top:.5rem;}
.fc-ex{font-size:.75rem;color:rgba(250,246,240,.7);margin-top:.8rem;font-style:italic;line-height:1.6;white-space:pre-line;}
.fc-btns{display:flex;gap:.8rem;width:100%;}
.fc-btn{flex:1;padding:.85rem;border-radius:12px;border:2px solid;font-size:.83rem;font-family:'DM Sans',sans-serif;font-weight:600;cursor:pointer;}
.fc-again{background:var(--rose-l);border-color:var(--rose);color:var(--rose);}
.fc-know{background:var(--sage-l);border-color:var(--sage);color:var(--sage);}
.fc-tip{font-size:.68rem;color:var(--gray);text-align:center;margin-top:.8rem;}

/* LISTEN */
.verse-box{background:linear-gradient(145deg,var(--warm),#F5EDE0);border:1.5px solid var(--gold-l);border-radius:18px;padding:1.8rem;margin-bottom:1.2rem;text-align:center;}
.verse-ref{font-size:.68rem;color:var(--gold);text-transform:uppercase;letter-spacing:.1em;margin-bottom:.8rem;}
.verse-en{font-family:'Cormorant Garamond',serif;font-size:1.25rem;line-height:1.8;margin-bottom:1rem;}
.hl{color:var(--rose);font-weight:600;}
.verse-ko{font-family:'Noto Serif KR',serif;font-size:.82rem;color:var(--gray);line-height:1.8;font-weight:300;}
.aud-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:.8rem;background:var(--dark);color:var(--cream);border:none;border-radius:100px;padding:.95rem;font-size:.85rem;font-family:'DM Sans',sans-serif;cursor:pointer;margin-bottom:.9rem;transition:background .2s;}
.aud-btn:hover,.aud-btn.on{background:var(--rose);}
.wave{display:none;align-items:center;gap:3px;height:18px;}
.aud-btn.on .wave{display:flex;}
.aud-btn.on .aud-lbl{display:none;}
.wbar{width:3px;background:var(--cream);border-radius:2px;animation:wv .8s ease-in-out infinite;}
.wbar:nth-child(1){height:7px}.wbar:nth-child(2){height:14px;animation-delay:.1s}.wbar:nth-child(3){height:10px;animation-delay:.2s}.wbar:nth-child(4){height:16px;animation-delay:.15s}.wbar:nth-child(5){height:7px;animation-delay:.3s}
@keyframes wv{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.3)}}
.wb-box{background:var(--warm);border:1.5px solid var(--line);border-radius:14px;padding:1.1rem;margin-bottom:1.2rem;}
.wb-title{font-size:.68rem;color:var(--gray);text-transform:uppercase;letter-spacing:.08em;margin-bottom:.7rem;}
.wb-row{display:flex;align-items:center;padding:.45rem 0;border-bottom:1px solid var(--line);}
.wb-row:last-child{border-bottom:none;}
.wb-word{font-family:'Cormorant Garamond',serif;font-size:1.05rem;font-weight:600;flex:1;}
.wb-mean{font-size:.74rem;color:var(--gray);font-family:'Noto Serif KR',serif;font-weight:300;flex:2;}
.wb-play{background:none;border:1px solid var(--line);border-radius:50%;width:26px;height:26px;cursor:pointer;font-size:.7rem;}

/* DICTATION */
.dict-box{background:var(--warm);border:1.5px solid var(--line);border-radius:18px;padding:1.4rem;margin-bottom:1.2rem;}
.dict-info{font-size:.76rem;color:var(--gray);text-align:center;margin-bottom:.9rem;font-family:'Noto Serif KR',serif;font-weight:300;}
.dict-aud{width:100%;background:var(--dark);color:var(--cream);border:none;border-radius:10px;padding:.85rem;font-size:.83rem;font-family:'DM Sans',sans-serif;cursor:pointer;margin-bottom:.9rem;}
.dict-in{width:100%;background:var(--cream);border:2px solid var(--line);border-radius:10px;padding:.9rem;font-size:.88rem;font-family:'DM Sans',sans-serif;outline:none;min-height:75px;resize:none;line-height:1.6;}
.dict-in:focus{border-color:var(--rose);}
.dict-hint{font-size:.7rem;color:var(--gray);text-align:center;margin:.5rem 0;}
.dict-ans{display:none;background:var(--sage-l);border-radius:9px;padding:.75rem 1rem;margin-top:.8rem;font-family:'Cormorant Garamond',serif;font-size:.95rem;line-height:1.6;}
.dict-ans.show{display:block;}

/* SPEAKING */
.spk-verse{background:linear-gradient(135deg,var(--rose-l),var(--gold-l));border-radius:14px;padding:1.3rem;text-align:center;margin-bottom:1.2rem;}
.spk-lbl{font-size:.68rem;color:var(--rose);text-transform:uppercase;letter-spacing:.1em;margin-bottom:.7rem;}
.spk-txt{font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:600;line-height:1.6;}
.mic-wrap{display:flex;flex-direction:column;align-items:center;gap:.8rem;margin-bottom:1.2rem;}
.mic-btn{width:76px;height:76px;border-radius:50%;border:none;background:var(--dark);color:var(--cream);font-size:1.8rem;cursor:pointer;transition:all .3s;box-shadow:0 6px 20px rgba(44,44,44,.2);}
.mic-btn.rec{background:var(--rose);animation:pulse 1s ease-in-out infinite;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
.mic-lbl{font-size:.76rem;color:var(--gray);}
.phrase-list{display:flex;flex-direction:column;gap:.55rem;}
.phrase-row{display:flex;align-items:center;gap:.75rem;background:var(--warm);border:1.5px solid var(--line);border-radius:11px;padding:.75rem .95rem;cursor:pointer;transition:border-color .2s;}
.phrase-row:hover{border-color:var(--rose-l);}
.phrase-row.done{border-color:var(--sage);background:var(--sage-l);}
.pr-txt{font-family:'Cormorant Garamond',serif;font-size:.95rem;flex:1;}
.pr-chk{color:var(--sage);display:none;}
.phrase-row.done .pr-chk{display:inline;}

/* QUIZ */
.q-box{background:var(--warm);border:1.5px solid var(--line);border-radius:16px;padding:1.4rem;margin-bottom:1.1rem;}
.q-type{font-size:.65rem;color:var(--rose);text-transform:uppercase;letter-spacing:.1em;margin-bottom:.4rem;}
.q-num{font-size:.7rem;color:var(--gray);margin-bottom:.7rem;}
.q-txt{font-family:'Cormorant Garamond',serif;font-size:1.1rem;font-weight:600;line-height:1.5;}
.q-blank{display:inline-block;min-width:70px;border-bottom:2px solid var(--rose);text-align:center;color:var(--rose);}
.q-opts{display:flex;flex-direction:column;gap:.65rem;margin-bottom:1rem;}
.q-opt{background:var(--warm);border:2px solid var(--line);border-radius:12px;padding:.9rem 1.1rem;font-size:.85rem;font-family:'DM Sans',sans-serif;cursor:pointer;text-align:left;display:flex;align-items:center;gap:.75rem;transition:all .2s;}
.q-opt:hover:not(:disabled){border-color:var(--gold-l);}
.q-opt.correct{border-color:var(--ok);background:#F0F8F0;color:var(--ok);}
.q-opt.wrong{border-color:var(--err);background:#FDF0EF;color:var(--err);}
.q-opt.reveal{border-color:var(--sage);background:var(--sage-l);}
.opt-lt{width:24px;height:24px;border-radius:50%;background:var(--line);display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:600;flex-shrink:0;}
.q-opt.correct .opt-lt{background:var(--ok);color:#fff;}
.q-opt.wrong .opt-lt{background:var(--err);color:#fff;}
.q-fb{display:none;border-radius:10px;padding:.9rem;font-size:.8rem;line-height:1.6;font-family:'Noto Serif KR',serif;font-weight:300;}
.q-fb.show{display:block;}
.q-fb.ok{background:var(--sage-l);border:1px solid var(--sage);color:var(--sage);}
.q-fb.ng{background:var(--rose-l);border:1px solid var(--rose);color:var(--rose);}

/* WRITING */
.wr-prompt{background:linear-gradient(135deg,var(--gold-l),var(--rose-l));border-radius:14px;padding:1.2rem;margin-bottom:1rem;}
.wr-tag{font-size:.68rem;opacity:.7;text-transform:uppercase;letter-spacing:.1em;margin-bottom:.4rem;}
.wr-txt{font-family:'Cormorant Garamond',serif;font-size:1.05rem;font-weight:600;line-height:1.5;}
.chips{display:flex;flex-wrap:wrap;gap:.45rem;margin-bottom:.9rem;}
.chip{background:var(--warm);border:1.5px solid var(--line);border-radius:100px;padding:.35rem .85rem;font-size:.73rem;cursor:pointer;font-family:'Cormorant Garamond',serif;font-style:italic;transition:all .2s;}
.chip:hover{border-color:var(--rose);color:var(--rose);}
.wr-area{width:100%;background:var(--warm);border:2px solid var(--line);border-radius:12px;padding:.95rem;font-size:.88rem;font-family:'Cormorant Garamond',serif;outline:none;min-height:130px;resize:none;line-height:1.8;transition:border-color .2s;margin-bottom:.6rem;}
.wr-area:focus{border-color:var(--gold);}
.wr-wc{font-size:.68rem;color:var(--gray);text-align:right;margin-bottom:1rem;}

/* COMPLETE */
.done-wrap{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem;}
.done-icon{font-size:3.8rem;margin-bottom:1rem;animation:pop .6s ease;}
@keyframes pop{0%{transform:scale(.2);opacity:0}60%{transform:scale(1.12)}100%{transform:scale(1);opacity:1}}
.done-title{font-family:'Cormorant Garamond',serif;font-size:1.9rem;font-weight:600;margin-bottom:.4rem;}
.done-title em{font-style:italic;color:var(--rose);}
.done-sub{font-size:.84rem;color:var(--gray);font-family:'Noto Serif KR',serif;font-weight:300;line-height:1.7;margin-bottom:1.8rem;}
.xp-box{background:linear-gradient(135deg,#2C2C2C,#3D4E60);color:var(--cream);border-radius:18px;padding:1.4rem 2rem;margin-bottom:1.8rem;width:100%;}
.xp-tag{font-size:.68rem;color:var(--gold-l);text-transform:uppercase;letter-spacing:.1em;margin-bottom:.2rem;}
.xp-num{font-family:'Cormorant Garamond',serif;font-size:2.8rem;font-weight:600;color:var(--gold);}
.xp-u{font-size:.82rem;color:rgba(250,246,240,.6);}
.stats{display:flex;gap:.9rem;width:100%;margin-bottom:1.8rem;}
.s-box{flex:1;background:var(--warm);border:1.5px solid var(--line);border-radius:12px;padding:.9rem;text-align:center;}
.s-num{font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:600;}
.s-lbl{font-size:.62rem;color:var(--gray);margin-top:.15rem;}

/* BOTTOM */
.bottom{padding:1rem 1.2rem 1.4rem;background:var(--warm);border-top:1px solid var(--line);}
.abtn{width:100%;padding:.95rem;border-radius:100px;border:none;font-size:.9rem;font-family:'DM Sans',sans-serif;font-weight:600;cursor:pointer;transition:background .2s;letter-spacing:.02em;}
.abtn.primary{background:var(--dark);color:var(--cream);}
.abtn.primary:hover{background:var(--rose);}
.abtn.sec{background:transparent;border:1.5px solid var(--line);color:var(--gray);margin-top:.55rem;font-size:.8rem;}
.abtn.gold{background:var(--gold);color:var(--dark);}

/* TOAST */
.toast{position:fixed;bottom:85px;left:50%;transform:translateX(-50%) translateY(8px);background:var(--dark);color:var(--cream);padding:.55rem 1.3rem;border-radius:100px;font-size:.76rem;opacity:0;transition:all .3s;z-index:200;white-space:nowrap;pointer-events:none;}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
</style>
</head>
<body>

<div class="topbar">
  <button class="back-btn" id="backBtn">â†</button>
  <div class="tb-info">
    <div class="tb-track">ğŸ“– ì„±ê²½ì˜ì–´ íŠ¸ë™</div>
    <div class="tb-title">Ch.2 â€” í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ Â· John 3:16</div>
  </div>
  <div class="xp-pill" id="xpPill">âœ¦ 0 XP</div>
</div>

<div class="prog-wrap"><div class="prog-bar" id="progBar" style="width:0%"></div></div>

<div class="dots" id="dots">
  <div class="dot active"></div><div class="dot"></div><div class="dot"></div>
  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
</div>

<!-- S0 ì¸íŠ¸ë¡œ -->
<div class="screen on" id="s0">
  <div class="i-card">
    <span class="i-icon">âœï¸</span>
    <div class="i-tag">ì„±ê²½ì˜ì–´ Ch.2</div>
    <div class="i-title">í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘</div>
    <div class="i-verse">"For God so loved the world..."</div>
    <div class="i-desc">ìš”í•œë³µìŒ 3:16ì„ ì˜ì–´ë¡œ ì½ê³  ë“£ê³  ë§í•˜ê³  ì¨ë´ìš” Â· ì•½ 20ë¶„</div>
  </div>
  <div class="step-list">
    <div class="step-row"><div class="step-n">1</div><div><div class="step-lbl">ğŸƒ ë‹¨ì–´ í”Œë˜ì‹œì¹´ë“œ</div><div class="step-sub">í•µì‹¬ ë‹¨ì–´ 5ê°œ Â· 5ë¶„</div></div></div>
    <div class="step-row"><div class="step-n">2</div><div><div class="step-lbl">ğŸ§ ë“£ê¸° &amp; ì½ê¸°</div><div class="step-sub">êµ¬ì ˆ ë“£ê³  ë”°ë¼ì½ê¸° Â· 3ë¶„</div></div></div>
    <div class="step-row"><div class="step-n">3</div><div><div class="step-lbl">âœï¸ ë°›ì•„ì“°ê¸°</div><div class="step-sub">ë”•í…Œì´ì…˜ Â· 5ë¶„</div></div></div>
    <div class="step-row"><div class="step-n">4</div><div><div class="step-lbl">ğŸ¤ ë”°ë¼ ë§í•˜ê¸°</div><div class="step-sub">ìŠ¤í”¼í‚¹ ì—°ìŠµ Â· 3ë¶„</div></div></div>
    <div class="step-row"><div class="step-n">5</div><div><div class="step-lbl">â“ í€´ì¦ˆ</div><div class="step-sub">3ë¬¸ì œ Â· 3ë¶„</div></div></div>
    <div class="step-row"><div class="step-n">6</div><div><div class="step-lbl">ğŸ“ ì˜ì–´ ì¼ê¸°</div><div class="step-sub">ë¬µìƒ ì“°ê¸° Â· ì„ íƒ</div></div></div>
  </div>
</div>

<!-- S1 í”Œë˜ì‹œì¹´ë“œ -->
<div class="screen" id="s1">
  <div class="fc-nav">
    <button class="fc-nav-btn" id="btn1st">â†© ì²˜ìŒìœ¼ë¡œ</button>
    <div class="fc-counter" id="fcCnt">1 / 5</div>
    <button class="fc-nav-btn" id="btnPrv" disabled>â† ì´ì „</button>
  </div>
  <div class="fc-card" id="fcCard">
    <div class="fc-inner">
      <div class="fc-front">
        <div class="fc-hint">íƒ­í•´ì„œ ëœ» ë³´ê¸° ğŸ‘†</div>
        <div class="fc-word" id="fcWord">loved</div>
        <div class="fc-ph" id="fcPh">[lÊŒvd]</div>
        <div class="fc-tip" style="font-size:.68rem;color:var(--gray);margin-top:.5rem;">ì¹´ë“œë¥¼ íƒ­í•˜ì„¸ìš”</div>
      </div>
      <div class="fc-back">
        <div class="fc-hint" style="color:var(--gold-l)">ëœ»</div>
        <div class="fc-mean" id="fcMean">ì‚¬ë‘í•˜ì…¨ë‹¤</div>
        <div class="fc-ex" id="fcEx"></div>
      </div>
    </div>
  </div>
  <div class="fc-btns" id="fcBtns" style="display:none">
    <button class="fc-btn fc-again" id="fcAgain">ğŸ”„ ë‹¤ì‹œ</button>
    <button class="fc-btn fc-know" id="fcKnow">âœ“ ì•Œì•˜ì–´ìš”</button>
  </div>
  <div class="fc-tip" id="fcTip">ì¹´ë“œë¥¼ íƒ­í•´ì„œ ëœ»ì„ í™•ì¸í•˜ì„¸ìš”</div>
</div>

<!-- S2 ë“£ê¸° -->
<div class="screen" id="s2">
  <div class="verse-box">
    <div class="verse-ref">John 3:16 â€” ìš”í•œë³µìŒ 3ì¥ 16ì ˆ</div>
    <div class="verse-en">
      "For <span class="hl">God</span> so <span class="hl">loved</span> the <span class="hl">world</span>
      that he gave his one and only <span class="hl">Son</span>,
      that whoever <span class="hl">believes</span> in him
      shall not <span class="hl">perish</span> but have <span class="hl">eternal</span> life."
    </div>
    <div class="verse-ko">í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ ì´ëŠ” ê·¸ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§í•˜ì§€ ì•Šê³  ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë¼</div>
  </div>
  <button class="aud-btn" id="audBtn">
    <span class="aud-lbl">ğŸ”Š ì›ì–´ë¯¼ ë°œìŒ ë“£ê¸°</span>
    <div class="wave"><div class="wbar"></div><div class="wbar"></div><div class="wbar"></div><div class="wbar"></div><div class="wbar"></div></div>
  </button>
  <div class="wb-box">
    <div class="wb-title">í•µì‹¬ ë‹¨ì–´ ë°œìŒ</div>
    <div class="wb-row"><div class="wb-word">God</div><div class="wb-mean">í•˜ë‚˜ë‹˜ [gÉ‘Ëd]</div><button class="wb-play" data-w="God">â–¶</button></div>
    <div class="wb-row"><div class="wb-word">loved</div><div class="wb-mean">ì‚¬ë‘í•˜ì…¨ë‹¤ [lÊŒvd]</div><button class="wb-play" data-w="loved">â–¶</button></div>
    <div class="wb-row"><div class="wb-word">world</div><div class="wb-mean">ì„¸ìƒ [wÉœËrld]</div><button class="wb-play" data-w="world">â–¶</button></div>
    <div class="wb-row"><div class="wb-word">believes</div><div class="wb-mean">ë¯¿ëŠ” [bÉªËˆliËvz]</div><button class="wb-play" data-w="believes">â–¶</button></div>
    <div class="wb-row"><div class="wb-word">eternal</div><div class="wb-mean">ì˜ì›í•œ [ÉªËˆtÉœËrnl]</div><button class="wb-play" data-w="eternal">â–¶</button></div>
  </div>
</div>

<!-- S3 ë°›ì•„ì“°ê¸° -->
<div class="screen" id="s3">
  <div class="dict-box">
    <div class="dict-info">ğŸ§ ìŒì„±ì„ ë“£ê³  ë“¤ë¦¬ëŠ” ëŒ€ë¡œ ì˜ì–´ë¡œ ë°›ì•„ì“°ì„¸ìš”</div>
    <button class="dict-aud" id="dictAud">ğŸ”Š ë“£ê¸° (3ë²ˆê¹Œì§€ ê°€ëŠ¥)</button>
    <textarea class="dict-in" id="dictIn" placeholder="ë“¤ë¦¬ëŠ” ì˜ì–´ ë¬¸ì¥ì„ ì—¬ê¸°ì— ì“°ì„¸ìš”..."></textarea>
    <div class="dict-hint">íŒíŠ¸: "For God so _____ the world..."</div>
    <div class="dict-ans" id="dictAns">
      âœ“ ì •ë‹µ: "For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life."
    </div>
  </div>
  <button class="abtn sec" id="chkDict">ì •ë‹µ í™•ì¸í•˜ê¸°</button>
</div>

<!-- S4 ë”°ë¼ë§í•˜ê¸° -->
<div class="screen" id="s4">
  <div class="spk-verse">
    <div class="spk-lbl">ë”°ë¼ ë§í•´ë³´ì„¸ìš” ğŸ¤</div>
    <div class="spk-txt">"For God so loved the world<br>that he gave his one and only Son"</div>
  </div>
  <div class="mic-wrap">
    <button class="mic-btn" id="micBtn">ğŸ¤</button>
    <div class="mic-lbl" id="micLbl">ë²„íŠ¼ì„ ëˆŒëŸ¬ ë§í•˜ê¸° ì‹œì‘</div>
  </div>
  <div style="font-size:.76rem;color:var(--gray);text-align:center;margin-bottom:.9rem;font-family:'Noto Serif KR',serif;font-weight:300;">ë¬¸ì¥ì„ ë‚˜ëˆ ì„œ ì—°ìŠµí•´ë´ìš”</div>
  <div class="phrase-list">
    <div class="phrase-row" id="pr1"><span>â–¶</span><span class="pr-txt">"For God so loved"</span><span class="pr-chk">âœ“</span></div>
    <div class="phrase-row" id="pr2"><span>â–¶</span><span class="pr-txt">"the world"</span><span class="pr-chk">âœ“</span></div>
    <div class="phrase-row" id="pr3"><span>â–¶</span><span class="pr-txt">"that he gave his one and only Son"</span><span class="pr-chk">âœ“</span></div>
    <div class="phrase-row" id="pr4"><span>â–¶</span><span class="pr-txt">"shall not perish but have eternal life"</span><span class="pr-chk">âœ“</span></div>
  </div>
</div>

<!-- S5 í€´ì¦ˆ -->
<div class="screen" id="s5">
  <div id="q1blk">
    <div class="q-box">
      <div class="q-type">ë¹ˆì¹¸ ì±„ìš°ê¸°</div>
      <div class="q-num">ë¬¸ì œ 1 / 3</div>
      <div class="q-txt">"For God so <span class="q-blank">____</span> the world"</div>
    </div>
    <div class="q-opts" id="q1opts">
      <button class="q-opt" data-v="likes"><span class="opt-lt">A</span>likes</button>
      <button class="q-opt" data-v="loved"><span class="opt-lt">B</span>loved</button>
      <button class="q-opt" data-v="made"><span class="opt-lt">C</span>made</button>
      <button class="q-opt" data-v="saved"><span class="opt-lt">D</span>saved</button>
    </div>
    <div class="q-fb" id="q1fb"></div>
  </div>
  <div id="q2blk" style="display:none">
    <div class="q-box">
      <div class="q-type">ëœ» ê³ ë¥´ê¸°</div>
      <div class="q-num">ë¬¸ì œ 2 / 3</div>
      <div class="q-txt">"eternal life"ì˜ ëœ»ì€?</div>
    </div>
    <div class="q-opts" id="q2opts">
      <button class="q-opt" data-v="a"><span class="opt-lt">A</span>ì•„ë¦„ë‹¤ìš´ ì‚¶</button>
      <button class="q-opt" data-v="b"><span class="opt-lt">B</span>ì˜ìƒ (ì˜ì›í•œ ì‚¶)</button>
      <button class="q-opt" data-v="c"><span class="opt-lt">C</span>ì¶•ë³µ</button>
      <button class="q-opt" data-v="d"><span class="opt-lt">D</span>êµ¬ì›</button>
    </div>
    <div class="q-fb" id="q2fb"></div>
  </div>
  <div id="q3blk" style="display:none">
    <div class="q-box">
      <div class="q-type">ë¬¸ì¥ ì™„ì„±</div>
      <div class="q-num">ë¬¸ì œ 3 / 3</div>
      <div class="q-txt">í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì— ì£¼ì‹  ê²ƒì€?</div>
    </div>
    <div class="q-opts" id="q3opts">
      <button class="q-opt" data-v="a"><span class="opt-lt">A</span>His only Son (ë…ìƒì)</button>
      <button class="q-opt" data-v="b"><span class="opt-lt">B</span>The Bible (ì„±ê²½)</button>
      <button class="q-opt" data-v="c"><span class="opt-lt">C</span>Eternal peace (ì˜ì›í•œ í‰í™”)</button>
      <button class="q-opt" data-v="d"><span class="opt-lt">D</span>His blessing (ì¶•ë³µ)</button>
    </div>
    <div class="q-fb" id="q3fb"></div>
  </div>
</div>

<!-- S6 ì˜ì–´ ì¼ê¸° -->
<div class="screen" id="s6">
  <div class="wr-prompt">
    <div class="wr-tag">ì˜¤ëŠ˜ì˜ ë¬µìƒ ì¼ê¸° âœï¸</div>
    <div class="wr-txt">ì˜¤ëŠ˜ ë°°ìš´ í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ì— ëŒ€í•´<br>ì˜ì–´ë¡œ ì§§ê²Œ ì¨ë´ìš”.</div>
  </div>
  <div style="font-size:.78rem;color:var(--gray);margin-bottom:.6rem;font-family:'Noto Serif KR',serif;font-weight:300;">ë¬¸ì¥ ì‹œì‘ì´ ë§‰íˆë©´ ì•„ë˜ë¥¼ íƒ­í•´ë³´ì„¸ìš”</div>
  <div class="chips">
    <span class="chip" data-t="Today I learned that ">Today I learned that...</span>
    <span class="chip" data-t="God's love makes me feel ">God's love makes me feel...</span>
    <span class="chip" data-t="I am grateful because ">I am grateful because...</span>
    <span class="chip" data-t="John 3:16 reminds me that ">John 3:16 reminds me...</span>
  </div>
  <textarea class="wr-area" id="wrArea" placeholder="ì˜ì–´ë¡œ ììœ ë¡­ê²Œ ì¨ë³´ì„¸ìš”. í‹€ë ¤ë„ ê´œì°®ì•„ìš” âœ¨"></textarea>
  <div class="wr-wc" id="wrWc">0 ë‹¨ì–´</div>
</div>

<!-- S7 ì™„ë£Œ -->
<div class="screen" id="s7">
  <div class="done-wrap">
    <div class="done-icon">ğŸ‰</div>
    <div class="done-title">ì±•í„° <em>ì™„ë£Œ!</em></div>
    <div class="done-sub">ì˜¤ëŠ˜ë„ ì •ë§ ì˜ í•˜ì…¨ì–´ìš”!<br>"For God so loved the world"<br>ì´ ë§ì”€ì´ ë§ˆìŒì— ìƒˆê²¨ì§€ê¸¸ ë°”ëë‹ˆë‹¤ ğŸ’•</div>
    <div class="xp-box">
      <div class="xp-tag">íšë“í•œ ê²½í—˜ì¹˜</div>
      <div><span class="xp-num" id="doneXP">0</span> <span class="xp-u">XP</span></div>
    </div>
    <div class="stats">
      <div class="s-box"><div class="s-num">5</div><div class="s-lbl">ë‹¨ì–´ í•™ìŠµ</div></div>
      <div class="s-box"><div class="s-num" id="doneQ">0/3</div><div class="s-lbl">í€´ì¦ˆ ì •ë‹µ</div></div>
      <div class="s-box"><div class="s-num">ğŸ”¥7</div><div class="s-lbl">ì—°ì† í•™ìŠµ</div></div>
    </div>
    <button class="abtn gold" style="width:100%;margin-bottom:.7rem" id="nextCh">ë‹¤ìŒ ì±•í„° â†’</button>
    <button class="abtn sec" style="width:100%" id="homeBtn2">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>
</div>

<!-- í•˜ë‹¨ ë²„íŠ¼ -->
<div class="bottom" id="bottom">
  <button class="abtn primary" id="mainBtn">ì‹œì‘í•˜ê¸° â†’</button>
  <button class="abtn sec" id="prevBtn" style="display:none">â† ì´ì „ ë‹¨ê³„ë¡œ</button>
</div>

<div class="toast" id="toast"></div>

<script>
(function () {
  var CARDS = [
    { w: 'loved',    p: '[lÊŒvd]',       m: 'ì‚¬ë‘í•˜ì…¨ë‹¤', e: '"For God so loved the world"\ní•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì…¨ìœ¼ë‹ˆ' },
    { w: 'world',    p: '[wÉœËrld]',      m: 'ì„¸ìƒ',       e: '"he loved the world"\nì„¸ìƒì„ ì‚¬ë‘í•˜ì‚¬' },
    { w: 'gave',     p: '[É¡eÉªv]',        m: 'ì£¼ì…¨ë‹¤',     e: '"he gave his one and only Son"\në…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ' },
    { w: 'believes', p: '[bÉªËˆliËvz]',    m: 'ë¯¿ëŠ”',       e: '"whoever believes in him"\nê·¸ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤' },
    { w: 'eternal',  p: '[ÉªËˆtÉœËrnl]',    m: 'ì˜ì›í•œ',     e: '"have eternal life"\nì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë¼' }
  ];

  var cur = 0, ci = 0, xp = 0, qok = 0, dN = 0, recOn = false, audOn = false, audT = null, TOTAL = 8;

  function g(id) { return document.getElementById(id); }

  function toast(m) {
    var t = g('toast');
    t.textContent = m;
    t.classList.add('show');
    clearTimeout(toast._t);
    toast._t = setTimeout(function () { t.classList.remove('show'); }, 2500);
  }

  function speak(txt) {
    if (!window.speechSynthesis) return;
    var u = new SpeechSynthesisUtterance(txt);
    u.lang = 'en-US'; u.rate = 0.85;
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }

  function addXP(n) { xp += n; g('xpPill').textContent = 'âœ¦ ' + xp + ' XP'; }

  function updateProg() {
    g('progBar').style.width = (cur / (TOTAL - 1) * 100) + '%';
    var dots = document.querySelectorAll('.dot');
    dots.forEach(function (d, i) {
      d.className = 'dot';
      if (i < cur) d.classList.add('done');
      else if (i === cur) d.classList.add('active');
    });
  }

  function updateBtns() {
    var bt = g('bottom'), mb = g('mainBtn'), pb = g('prevBtn');
    if (cur === 7) { bt.style.display = 'none'; return; }
    if (cur === 1) { bt.style.display = 'none'; return; }
    bt.style.display = 'block';
    var lbl = { 0: 'ì‹œì‘í•˜ê¸° â†’', 2: 'ë‹¤ìŒ â†’', 3: 'ë‹¤ìŒ â†’', 4: 'ë‹¤ìŒ â†’', 5: 'ë‹¤ìŒ â†’', 6: 'ì™„ë£Œí•˜ê¸° âœ“' };
    mb.textContent = lbl[cur] || 'ë‹¤ìŒ â†’';
    pb.style.display = cur === 0 ? 'none' : 'block';
  }

  function goTo(n) {
    g('s' + cur).classList.remove('on');
    cur = n;
    g('s' + cur).classList.add('on');
    updateProg(); updateBtns();
    if (cur === 1) { resetFC(); }
    if (cur === 7) { g('doneXP').textContent = xp; g('doneQ').textContent = qok + '/3'; }
  }

  g('mainBtn').addEventListener('click', function () {
    if (cur === 6) {
      if (g('wrArea').value.trim().length < 5) { toast('ì˜ì–´ë¡œ í•œ ë¬¸ì¥ë§Œ ì¨ë„ ê´œì°®ì•„ìš” âœ¨'); return; }
      addXP(30);
    }
    if (cur < TOTAL - 1) goTo(cur + 1);
  });

  g('prevBtn').addEventListener('click', function () { if (cur > 0) goTo(cur - 1); });

  g('backBtn').addEventListener('click', function () {
    toast('í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤');
    setTimeout(function () { window.location.href = 'ivyel-app.html'; }, 800);
  });

  // í”Œë˜ì‹œì¹´ë“œ
  function resetFC() {
    ci = 0; showCard(0);
    g('fcCard').style.opacity = '1';
    g('fcCard').style.pointerEvents = 'auto';
  }

  function showCard(i) {
    var c = CARDS[i];
    g('fcWord').textContent = c.w;
    g('fcPh').textContent = c.p;
    g('fcMean').textContent = c.m;
    g('fcEx').textContent = c.e;
    g('fcCnt').textContent = (i + 1) + ' / ' + CARDS.length;
    g('fcCard').classList.remove('flipped');
    g('fcBtns').style.display = 'none';
    g('fcTip').style.display = 'block';
    g('btnPrv').disabled = i === 0;
  }

  g('fcCard').addEventListener('click', function () {
    if (this.classList.contains('flipped')) return;
    this.classList.add('flipped');
    g('fcBtns').style.display = 'flex';
    g('fcTip').style.display = 'none';
    speak(CARDS[ci].w);
  });

  g('fcKnow').addEventListener('click', function () { addXP(10); nextCard(); });
  g('fcAgain').addEventListener('click', function () { nextCard(); });

  function nextCard() {
    ci++;
    if (ci >= CARDS.length) {
      addXP(20); toast('ë‹¨ì–´ ì™„ë£Œ! XP íšë“!');
      g('fcCard').style.opacity = '0.5';
      g('fcCard').style.pointerEvents = 'none';
      g('fcBtns').style.display = 'none';
      g('bottom').style.display = 'block';
      g('mainBtn').textContent = 'ë‹¤ìŒ ë‹¨ê³„ â†’';
      g('prevBtn').style.display = 'block';
    } else { showCard(ci); }
  }

  g('btn1st').addEventListener('click', function () {
    ci = 0; showCard(0);
    g('fcCard').style.opacity = '1';
    g('fcCard').style.pointerEvents = 'auto';
    g('bottom').style.display = 'none';
    toast('â†© ì²« ë²ˆì§¸ ì¹´ë“œë¡œ ëŒì•„ì™”ì–´ìš”');
  });

  g('btnPrv').addEventListener('click', function () {
    if (ci <= 0) return;
    ci--; showCard(ci);
    g('fcCard').style.opacity = '1';
    g('fcCard').style.pointerEvents = 'auto';
    g('bottom').style.display = 'none';
    toast('â† ì´ì „ ì¹´ë“œ');
  });

  // ì˜¤ë””ì˜¤
  g('audBtn').addEventListener('click', function () {
    if (audOn) {
      window.speechSynthesis.cancel();
      this.classList.remove('on'); audOn = false; clearTimeout(audT);
    } else {
      this.classList.add('on'); audOn = true;
      speak('For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.');
      var self = this;
      audT = setTimeout(function () { self.classList.remove('on'); audOn = false; }, 7000);
    }
  });

  document.querySelectorAll('.wb-play').forEach(function (b) {
    b.addEventListener('click', function () { speak(this.dataset.w); toast('ğŸ”Š ' + this.dataset.w); });
  });

  // ë°›ì•„ì“°ê¸°
  g('dictAud').addEventListener('click', function () {
    if (dN >= 3) { toast('ìµœëŒ€ 3ë²ˆê¹Œì§€ ë“¤ì„ ìˆ˜ ìˆì–´ìš”'); return; }
    dN++; this.textContent = 'ğŸ”Š ë‹¤ì‹œ ë“£ê¸° (' + dN + '/3)';
    speak('For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.');
  });

  g('chkDict').addEventListener('click', function () {
    g('dictAns').classList.add('show');
    addXP(20); toast('âœ… ì •ë‹µ í™•ì¸! +20 XP');
  });

  // ìŠ¤í”¼í‚¹
  g('micBtn').addEventListener('click', function () {
    if (!recOn) {
      recOn = true; this.classList.add('rec'); this.textContent = 'â¹';
      g('micLbl').textContent = 'ë§í•˜ëŠ” ì¤‘... íƒ­í•´ì„œ ë©ˆì¶”ê¸°';
      speak('For God so loved the world that he gave his one and only Son');
    } else {
      recOn = false; this.classList.remove('rec'); this.textContent = 'ğŸ¤';
      g('micLbl').textContent = 'ì˜ í•˜ì…¨ì–´ìš”! ë‹¤ì‹œ í•´ë³¼ê¹Œìš”?';
      addXP(15); toast('ğŸ¤ í›Œë¥­í•´ìš”! +15 XP');
    }
  });

  var phrases = ['For God so loved', 'the world', 'that he gave his one and only Son', 'shall not perish but have eternal life'];
  for (var pi = 1; pi <= 4; pi++) {
    (function (n) {
      g('pr' + n).addEventListener('click', function () {
        speak(phrases[n - 1]);
        this.classList.add('done');
        this.querySelector('.pr-chk').style.display = 'inline';
        addXP(5);
      });
    })(pi);
  }

  // í€´ì¦ˆ
  function setupQ(blkId, optId, fbId, correct, okMsg, ngMsg, nextBlk) {
    document.querySelectorAll('#' + optId + ' .q-opt').forEach(function (btn) {
      btn.addEventListener('click', function () {
        var opts = document.querySelectorAll('#' + optId + ' .q-opt');
        opts.forEach(function (o) { o.disabled = true; if (o.dataset.v === correct) o.classList.add('reveal'); });
        var fb = g(fbId);
        if (this.dataset.v === correct) {
          this.classList.add('correct');
          fb.className = 'q-fb show ok'; fb.textContent = okMsg;
          qok++; addXP(20);
        } else {
          this.classList.add('wrong');
          fb.className = 'q-fb show ng'; fb.textContent = ngMsg;
        }
        g('doneQ').textContent = qok + '/3';
        if (nextBlk) {
          setTimeout(function () {
            g(blkId).style.display = 'none';
            g(nextBlk).style.display = 'block';
          }, 1200);
        }
      });
    });
  }

  setupQ('q1blk', 'q1opts', 'q1fb', 'loved',
    'âœ“ ì •ë‹µ! "loved"ëŠ” "ì‚¬ë‘í•˜ì…¨ë‹¤"ì…ë‹ˆë‹¤ ğŸ’•',
    'ì •ë‹µì€ "loved"ì˜ˆìš”. í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì‚¬ë‘í•˜ì…¨ë‹¤ëŠ” ëœ»ì´ì—ìš”.', 'q2blk');
  setupQ('q2blk', 'q2opts', 'q2fb', 'b',
    'âœ“ ì •ë‹µ! "eternal life"ëŠ” ì˜ìƒ, ì˜ì›í•œ ì‚¶ì´ì—ìš” ğŸŒŸ',
    '"eternal"ì€ ì˜ì›í•œ, "life"ëŠ” ì‚¶ â€” í•©ì¹˜ë©´ ì˜ìƒì´ì—ìš”!', 'q3blk');
  setupQ('q3blk', 'q3opts', 'q3fb', 'a',
    'âœ“ ì •ë‹µ! í•˜ë‚˜ë‹˜ì€ ë…ìƒì ì˜ˆìˆ˜ë‹˜ì„ ë³´ë‚´ì£¼ì…¨ì–´ìš” âœï¸',
    '"he gave his one and only Son" â€” ë…ìƒìë¥¼ ì£¼ì…¨ë‹¤ëŠ” ëœ»ì´ì—ìš”!', null);

  // ê¸€ì“°ê¸°
  document.querySelectorAll('.chip').forEach(function (c) {
    c.addEventListener('click', function () {
      var a = g('wrArea');
      a.value = a.value ? a.value + ' ' + this.dataset.t : this.dataset.t;
      a.focus(); wc();
    });
  });
  g('wrArea').addEventListener('input', wc);
  function wc() {
    var t = g('wrArea').value.trim();
    g('wrWc').textContent = (t ? t.split(/\s+/).length : 0) + ' ë‹¨ì–´';
  }

  // ì™„ë£Œ
  g('nextCh').addEventListener('click', function () { toast('ë‹¤ìŒ ì±•í„°ë¡œ ì´ë™í•©ë‹ˆë‹¤!'); });
  g('homeBtn2').addEventListener('click', function () { window.location.href = 'ivyel-app.html'; });

  updateProg(); updateBtns();
})();
</script>
</body>
</html>
